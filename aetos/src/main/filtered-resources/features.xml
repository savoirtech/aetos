<?xml version="1.0" encoding="UTF-8"?>
<features>

  <repository>mvn:org.apache.karaf.assemblies.features/standard/${karaf.version}/xml/features</repository>
  <repository>mvn:org.apache.camel.karaf/apache-camel/${camel.version}/xml/features</repository>
  <repository>mvn:org.apache.activemq/activemq-karaf/${activemq.version}/xml/features</repository>

  <feature name="camel-activemq" version="${project.version}" resolver="(obr)" start-level='50'>
    <feature version="${activemq.version}">activemq</feature>
    <feature version="${camel.version}">camel-jms</feature>
    <bundle>mvn:org.apache.activemq/activemq-camel/${camel.activemq.version}</bundle>
  </feature>

  <feature name="activemq-broker" version="${project.version}" resolver="(obr)" start-level='50'>
    <feature version="${activemq.version}">activemq-broker</feature>
    <bundle>blueprint:file:etc/activemq-broker.xml</bundle>
  </feature>

  <feature name="savoir-core" version="${project.version}" resolver='(obr)'>
    <feature version="${camel.version}">camel</feature>
    <feature version="${camel.version}">camel-blueprint</feature>
    <feature version="${project.version}">savoir-camel-cxf</feature>
    <feature version="${camel.version}">camel-jms</feature>
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.ehcache/${ehcache-version}</bundle>
  </feature>
  <feature name="savoir-test" version="${project.version}" resolver='(obr)'>
    <feature version='${project.version}'>savoir-core</feature>
    <feature version="${camel.version}">camel-test</feature>
  </feature>
  <feature name="savoir-messaging" version="${project.version}" resolver='(obr)'>
    <feature version='${project.version}'>savoir-core</feature>
    <feature version="${activemq.version}">activemq</feature>
    <feature version="${project.version}">camel-activemq</feature>
  </feature>
  <feature name="savoir-ws" version="${project.version}" resolver='(obr)'>
    <feature version='${project.version}'>savoir-core</feature>
    <feature version="${camel.version}">camel-http</feature>
    <feature version="${camel.version}">camel-http4</feature>
    <feature version="${camel.version}">camel-jetty</feature>
    <feature version="${camel.version}">camel-servlet</feature>
    <feature version="${camel.version}">camel-soap</feature>
    <feature version="${camel.version}">camel-jaxb</feature>
    <feature>jetty</feature>
  </feature>
  <feature name="savoir-logging" version="${project.version}" resolver='(obr)'>
    <feature version='${project.version}'>savoir-core</feature>
    <feature version="${camel.version}">camel-paxlogging</feature>
    <feature version="${camel.version}">camel-syslog</feature>
  </feature>
  <feature name="savoir-monitoring" version="${project.version}" resolver='(obr)'>
    <feature version='${project.version}'>savoir-core</feature>
    <feature version="${camel.version}">camel-jmx</feature>
    <feature version="${camel.version}">camel-nagios</feature>
  </feature>
  <feature name="savoir-encryption" version="${project.version}" resolver='(obr)'>
    <feature version='${project.version}'>savoir-core</feature>
    <feature version="${camel.version}">camel-crypto</feature>
    <feature version="${camel.version}">camel-jasypt</feature>
  </feature>
  <feature name="savoir-ldap" version="${project.version}" resolver='(obr)'>
    <feature version='${project.version}'>savoir-core</feature>
    <feature version="${camel.version}">camel-ldap</feature>
  </feature>
  <feature name="savoir-scheduler" version="${project.version}" resolver='(obr)'>
    <feature version='${project.version}'>savoir-core</feature>
    <feature version="${camel.version}">camel-quartz</feature>
  </feature>
  <feature name="savoir-system" version="${project.version}" resolver='(obr)'>
    <feature version='${project.version}'>savoir-core</feature>
    <feature version="${camel.version}">camel-syslog</feature>
    <feature version="${camel.version}">camel-exec</feature>
  </feature>

  <feature name='savoir-camel-cxf' version="${project.version}" resolver='(obr)'>
    <feature version="${cxf.version}">cxf</feature>
    <feature version="${camel.version}">camel-cxf</feature>
  </feature>

</features>
